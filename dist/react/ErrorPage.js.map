{"version":3,"file":"ErrorPage.js","names":["React","useState","PropTypes","Button","Container","Row","Col","useAppEvent","FormattedMessage","IntlProvider","getMessages","getLocale","LOCALE_CHANGED","ErrorPage","message","locale","setLocale","reload","global","location","propTypes","string","defaultProps"],"sources":["../../src/react/ErrorPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Container, Row, Col,\n} from '@edx/paragon';\n\nimport { useAppEvent } from './hooks';\nimport {\n  FormattedMessage,\n  IntlProvider,\n  getMessages,\n  getLocale,\n  LOCALE_CHANGED,\n} from '../i18n';\n\n/**\n * An error page that displays a generic message for unexpected errors.  Also contains a \"Try\n * Again\" button to refresh the page.\n *\n * @memberof module:React\n * @extends {Component}\n */\nfunction ErrorPage({\n  message,\n}) {\n  const [locale, setLocale] = useState(getLocale());\n\n  useAppEvent(LOCALE_CHANGED, () => {\n    setLocale(getLocale());\n  });\n\n  /* istanbul ignore next */\n  const reload = () => {\n    global.location.reload();\n  };\n\n  return (\n    <IntlProvider locale={locale} messages={getMessages()}>\n      <Container fluid className=\"py-5 justify-content-center align-items-start text-center\">\n        <Row>\n          <Col>\n            <p className=\"text-muted\">\n              <FormattedMessage\n                id=\"unexpected.error.message.text\"\n                defaultMessage=\"An unexpected error occurred. Please click the button below to refresh the page.\"\n                description=\"error message when an unexpected error occurs\"\n              />\n            </p>\n            {message && (\n              <div role=\"alert\" className=\"my-4\">\n                <p>{message}</p>\n              </div>\n            )}\n            <Button onClick={reload}>\n              <FormattedMessage\n                id=\"unexpected.error.button.text\"\n                defaultMessage=\"Try again\"\n                description=\"text for button that tries to reload the app by refreshing the page\"\n              />\n            </Button>\n          </Col>\n        </Row>\n      </Container>\n    </IntlProvider>\n  );\n}\n\nErrorPage.propTypes = {\n  message: PropTypes.string,\n};\n\nErrorPage.defaultProps = {\n  message: null,\n};\n\nexport default ErrorPage;\n"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SACEC,MADF,EACUC,SADV,EACqBC,GADrB,EAC0BC,GAD1B,QAEO,cAFP;AAIA,SAASC,WAAT,QAA4B,SAA5B;AACA,SACEC,gBADF,EAEEC,YAFF,EAGEC,WAHF,EAIEC,SAJF,EAKEC,cALF,QAMO,SANP;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,SAAT,OAEG;EAAA,IADDC,OACC,QADDA,OACC;;EACD,gBAA4Bb,QAAQ,CAACU,SAAS,EAAV,CAApC;EAAA;EAAA,IAAOI,MAAP;EAAA,IAAeC,SAAf;;EAEAT,WAAW,CAACK,cAAD,EAAiB,YAAM;IAChCI,SAAS,CAACL,SAAS,EAAV,CAAT;EACD,CAFU,CAAX;EAIA;;EACA,IAAMM,MAAM,GAAG,SAATA,MAAS,GAAM;IACnBC,MAAM,CAACC,QAAP,CAAgBF,MAAhB;EACD,CAFD;;EAIA,oBACE,oBAAC,YAAD;IAAc,MAAM,EAAEF,MAAtB;IAA8B,QAAQ,EAAEL,WAAW;EAAnD,gBACE,oBAAC,SAAD;IAAW,KAAK,MAAhB;IAAiB,SAAS,EAAC;EAA3B,gBACE,oBAAC,GAAD,qBACE,oBAAC,GAAD,qBACE;IAAG,SAAS,EAAC;EAAb,gBACE,oBAAC,gBAAD;IACE,EAAE,EAAC,+BADL;IAEE,cAAc,EAAC,kFAFjB;IAGE,WAAW,EAAC;EAHd,EADF,CADF,EAQGI,OAAO,iBACN;IAAK,IAAI,EAAC,OAAV;IAAkB,SAAS,EAAC;EAA5B,gBACE,+BAAIA,OAAJ,CADF,CATJ,eAaE,oBAAC,MAAD;IAAQ,OAAO,EAAEG;EAAjB,gBACE,oBAAC,gBAAD;IACE,EAAE,EAAC,8BADL;IAEE,cAAc,EAAC,WAFjB;IAGE,WAAW,EAAC;EAHd,EADF,CAbF,CADF,CADF,CADF,CADF;AA6BD;;AAEDJ,SAAS,CAACO,SAAV,GAAsB;EACpBN,OAAO,EAAEZ,SAAS,CAACmB;AADC,CAAtB;AAIAR,SAAS,CAACS,YAAV,GAAyB;EACvBR,OAAO,EAAE;AADc,CAAzB;AAIA,eAAeD,SAAf"}